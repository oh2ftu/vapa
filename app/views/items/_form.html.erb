<%= simple_form_for @item, :html => { :class => "form-horizontal item" } do |f| %>

    <% if @item.errors.any? %>
    <div id="error_expl" class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title"><%= pluralize(@item.errors.count, "error") %> prohibited this item from being saved:</h3>
      </div>
      <div class="panel-body">
        <ul>
        <% @item.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    </div>
  <% end %>
<div class="row">
<div class="col-lg-3">
  <div class="control-group">
    <div class="controls">
      <%#= f.input :tagid, :class => 'form-control' %>
      <%= f.input :tagid %>
    </div>
    <%= error_span(@item[:tagid]) %>
  </div>
  <div class="control-group">
    <%= f.label :rfid, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :rfid, :class => 'form-control' %>
    </div>
    <%= error_span(@item[:rfid]) %>
  </div>
  <div class="control-group">
    <%= f.label :make, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :make, :class => 'form-control' %>
    </div>
    <%= error_span(@item[:make]) %>
  </div>
  <div class="control-group">
    <%= f.label :model, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :model, :class => 'form-control' %>
    </div>
    <%= error_span(@item[:model]) %>
  </div>
  <div class="control-group">
    <%= f.label :serial, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :serial, :class => 'form-control' %>
    </div>
    <%= error_span(@item[:serial]) %>
  </div>
<!-- Test starts -->
<%= f.association :category %>
<%= f.input :sub_category_id, collection: @categories, as: :grouped_select, group_method: :sub_categories %>

  <div class="control-group">
    <%= f.label :category, :class => 'control-label' %>
    <div class="controls">
     <%= f.collection_select(:category_id,@categories,:id,:name, {:prompt => "Please select a category"}, {:class => "category_selection"}) %><br>
    </div>
    <%= error_span(@item[:category]) %>
  </div>
  <div class="control-group">
    <%= f.label :sub_category, :class => 'control-label' %>
    <div class="controls">
     <%= f.collection_select :sub_category_id, SubCategory.all, :id, :name, {:prompt => "Select a Subcategory"}, {:class=>"sub_category_selection"} %>
    </div>
    <%= error_span(@item[:category]) %>
  </div>

<!-- Test ends -->

  <div class="control-group">
      <%= f.input :description, :class => 'form-control' %>
    <%= error_span(@item[:description]) %>
  </div>
  <div class="control-group">
      <%= f.input :weight  %>
    <%= error_span(@item[:weight]) %>
  </div>
  <div class="control-group">
      <%= f.input :size, :class => 'form-control' %>
    <%= error_span(@item[:size]) %>
  </div>

</div>
<div class="col-lg-3">

  <div class="control-group">
    <%= f.label :owner, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :owner, :class => 'form-control' %>
    </div>
    <%= error_span(@item[:owner]) %>
  </div>

  <div class="control-group">
      <%= f.association :vendor %>
    <%= error_span(@item[:vendor_id]) %>
  </div>
  <div class="control-group">
      <%= f.input :purchased_at_date %>
    <%= error_span(@item[:purchased_at_date]) %>
  </div>

  <div class="control-group">
      <%= f.input :warranty_time %>years
    <%= error_span(@item[:warranty_time]) %>
  </div>
  <div class="control-group">
      <%= f.input :life_time %>years
    <%= error_span(@item[:life_time]) %>
  </div>

  <div class="control-group">
      <%= f.input :price, :class => 'form-control' %>
    <%= error_span(@item[:price]) %>
  </div>

  <div class="control-group">
      <%= f.input :service_interval, :class => 'form-control' %>
    <%= error_span(@item[:service_interval]) %>
  </div>

</div>
<div class="col-lg-3">

  <div class="control-group">
      <%= f.input :memo, :class => 'form-control' %>
    <%= error_span(@item[:memo]) %>
  </div>
 <div class="control-group">
      <%= f.input :tag_list, :class => 'form-control' %>
    <%= error_span(@item[:tag_list]) %>
  </div>
  <div class="control-group">
      <%= f.association :status %>
    <%= error_span(@item[:status_id]) %>
  </div>
  <div class="control-group">
      <%= f.association :unit %>
    <%= error_span(@item[:unit_id]) %>
  </div>
  <div class="control-group">
    <%= f.label :parent_id, :class => 'control-label' %>
    <div class="controls">
    <%= f.collection_select :parent_id, Item.arrange_as_array({:order => 'tagid'}, @item.possible_parents) , :id, :name_for_selects, :include_blank => true %>
    </div>
    <%= error_span(@item[:parent_id]) %>
  </div>
  <div class="control-group">
      <%= f.input :lup, label: false %><%= f.label :lup, :class => 'control-label' %>
    <%= error_span(@item[:lup]) %>
  </div>

  <div class="control-group">
      <%= f.input :tagged, label: false %><%= f.label :tagged, :class => 'control-label' %>
    <%= error_span(@item[:tagged]) %>
  </div>
  <div class="control-group">
      <%= f.input :last_seen %>
    <%= error_span(@item[:last_seen]) %>
  </div>

</div>
</div>
<br>
  <%= f.submit nil, :class => 'btn btn-primary' %>
  <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
            items_path, :class => 'btn btn-default' %>

<% end %>
