<%- model_class = Item -%>
<div class="page-header">
  <h1><%=t '.title', :default => model_class.model_name.human.titleize %></h1>
</div>
<div class="row">
 <div class="col-lg-6">
<h2>Item info</h2>
<dl class="dl-horizontal">
  <dt><strong><%= model_class.human_attribute_name(:tagid) %>:</strong></dt>
  <dd><%= @item.tagid %></dd>
  <dt><strong><%= model_class.human_attribute_name(:rfid) %>:</strong></dt>
  <dd><%= @item.rfid %></dd>
  <dt><strong><%= model_class.human_attribute_name(:make) %>:</strong></dt>
  <dd><%= @item.make %></dd>
  <dt><strong><%= model_class.human_attribute_name(:model) %>:</strong></dt>
  <dd><%= @item.model %></dd>
  <dt><strong><%= model_class.human_attribute_name(:weight) %>:</strong></dt>
  <dd><%= @item.weight %> kg</dd>
  <dt><strong><%= model_class.human_attribute_name(:description) %>:</strong></dt>
  <dd><%= @item.description %></dd>
  <dt><strong><%= model_class.human_attribute_name(:purchased_at_date) %>:</strong></dt>
  <dd><%= @item.purchased_at_date %></dd>
  <dt><strong><%= model_class.human_attribute_name(:vendor_id) %>:</strong></dt>
  <dd><%= @item.vendor.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:warranty_until) %>:</strong></dt>
  <dd><%= @item.warranty_time %> year(s), <%= @item.purchased_at_date + @item.warranty_time.year %></dd>
  <dt><strong><%= model_class.human_attribute_name(:life_time) %>:</strong></dt>
  <dd><%= @item.life_time %> year(s),  <%= @item.purchased_at_date + @item.life_time.year %></dd>
  <dt><strong><%= model_class.human_attribute_name(:serial) %>:</strong></dt>
  <dd><%= @item.serial %></dd>
  <dt><strong><%= model_class.human_attribute_name(:price) %>:</strong></dt>
  <dd><%= @item.price %></dd>
  <dt><strong><%= model_class.human_attribute_name(:owner) %>:</strong></dt>
  <dd><%= @item.owner %></dd>
  <dt><strong><%= model_class.human_attribute_name(:last_seen) %>:</strong></dt>
  <dd><%= @item.last_seen %></dd>
  <dt><strong><%= model_class.human_attribute_name(:service_interval) %>:</strong></dt>
  <dd><%= @item.service_interval %></dd>
  <dt><strong><%= model_class.human_attribute_name(:lup) %>:</strong></dt>
  <dd><%= @item.lup %></dd>
  <dt><strong><%= model_class.human_attribute_name(:parent_id) %>:</strong></dt>
  <dd><%#= @item.ancestry %><%= @item.parent ? @item.parent.description : '---' %></dd>
  <dt><strong><%= model_class.human_attribute_name(:memo) %>:</strong></dt>
  <dd><%= @item.memo %></dd>
  <dt><strong><%= model_class.human_attribute_name(:category_id) %>:</strong></dt>
  <dd><%= @item.category.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:sub_category_id) %>:</strong></dt>
  <dd><%= @item.sub_category.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:size) %>:</strong></dt>
  <dd><%= @item.size %></dd>
  <dt><strong><%= model_class.human_attribute_name(:status_id) %>:</strong></dt>
  <dd><%= @item.status.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:unit_id) %>:</strong></dt>
  <dd><%= @item.unit.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:tagged) %>:</strong></dt>
  <dd><%= @item.tagged %></dd>

</dl>

<%= link_to t('.back', :default => t("helpers.links.back")),
              items_path, :class => 'btn btn-default'  %>
<%= link_to t('.edit', :default => t("helpers.links.edit")),
              edit_item_path(@item), :class => 'btn btn-default' %>
<%= link_to t('.copy', :default => t("helpers.links.copy")),
              copy_item_path(params[:id]), :class => 'btn btn-primary' %>
<%= link_to t('.destroy', :default => t("helpers.links.destroy")),
              item_path(@item),
              :method => 'delete',
              :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) },
              :class => 'btn btn-danger' %>
<!--- div for row -->
 </div>
 <div class="col-lg-6">
  <div class="row">
   <div class="col-lg-6">
<h2>Vendor</h2>
<dl class="dl-horizontal">
<dt><strong>Vendor:</strong></dt>
  <dt><strong><%= model_class.human_attribute_name(:name) %>:</strong></dt>
  <dd><%= @item.vendor.name %></dd>
  <dt><strong><%= model_class.human_attribute_name(:address) %>:</strong></dt>
  <dd><%= @item.vendor.address %></dd>
  <dt><strong><%= model_class.human_attribute_name(:city) %>:</strong></dt>
  <dd><%= @item.vendor.city %></dd>
  <dt><strong><%= model_class.human_attribute_name(:contact) %>:</strong></dt>
  <dd><%= @item.vendor.contact %></dd>
  <dt><strong><%= model_class.human_attribute_name(:phone) %>:</strong></dt>
  <dd><%= @item.vendor.phone %></dd>
  <dt><strong><%= model_class.human_attribute_name(:email) %>:</strong></dt>
  <dd><%= @item.vendor.email %></dd>
  <dt><strong><%= model_class.human_attribute_name(:notes) %>:</strong></dt>
  <dd><%= @item.vendor.notes %></dd>
  <dt><strong><%= model_class.human_attribute_name(:billing) %>:</strong></dt>
  <dd><%= @item.vendor.billing %></dd>

</dl>
   </div>
  </div>
  <div class="row">
   <div class="col-lg-6">
<h2>Identifiers</h2>
<table>
<tr>
<th>Type</th>
<th>Barcode</th>
<th></th>
</tr>
<% @item.identifiers.each do |identifier| %>
<tr>
<td><%= identifier.name %></td>
<td><%= identifier.barcode %></td>
<td> <%= link_to 'Destroy', [identifier.item, identifier],
               method: :delete,
               data: { confirm: 'Are you sure?' } %></td>
</tr>
<% end %>

<%= form_for([@item, @item.identifiers.build]) do |f| %>
<tr>
<td><%= f.text_field :name %></td>
<td><%= f.text_field :barcode %></td>
</tr>
</table>
  <%= f.submit nil, :class => 'btn btn-primary' %>

 <% end %> 
<!-- /div for column -->
   </div>
  </div>
  </div>
 </div>
<div class="row">
<div class="col-lg-12">
<h2>Service events and comments</h2>
<table>
<tr>
<th>Commenter</th>
<th>Comment</th>
<th>Place</th>
<th>Price</th>
<th></th>
</tr>

<% @item.comments.each do |comment| %>
<tr>
<td><%= comment.commenter %></td>
<td><%= comment.body %></td>
<td><%= comment.place %></td>
<td><%= comment.price %></td>

<td> 
<%= link_to 'Destroy', [comment.item, comment],
               method: :delete,
               data: { confirm: 'Are you sure?' } %>
</td>
</tr>
<% end %>

<%= form_for([@item, @item.comments.build]) do |f| %>
<tr>
<td><%= f.text_field :commenter %></td>
<td><%= f.text_area :body %></td>
<td><%= f.text_field :place %></td>
<td><%= f.text_field :price %></td>

</tr>
</table>
  <%= f.submit nil, :class => 'btn btn-primary' %>
<% end %>
</div>
</div>
